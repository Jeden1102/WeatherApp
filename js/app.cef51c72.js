(function(t){function e(e){for(var n,c,s=e[0],o=e[1],d=e[2],l=0,p=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,d||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,s=1;s<i.length;s++){var o=i[s];0!==a[o]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=i[0]))}return t}var n={},a={app:0},r=[];function c(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=n,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(i,n,function(e){return t[e]}.bind(null,n));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/WeatherApp/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var u=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"00c3":function(t,e,i){"use strict";i("29b0")},"0420":function(t,e,i){t.exports=i.p+"media/03n.d323b925.mp4"},"0698":function(t,e,i){t.exports=i.p+"media/09n.dd9c4f11.mp4"},"07db":function(t,e,i){"use strict";i("8ed5")},"086e":function(t,e,i){},"0c6f":function(t,e,i){},"0cff":function(t,e,i){t.exports=i.p+"media/10n.dd9c4f11.mp4"},"0da8":function(t,e,i){t.exports=i.p+"media/04d.fbf57056.mp4"},"10fc":function(t,e,i){},"29b0":function(t,e,i){},"30d5":function(t,e,i){"use strict";i("086e")},"417e":function(t,e,i){t.exports=i.p+"media/11d.dd9c4f11.mp4"},"4c58":function(t,e,i){t.exports=i.p+"media/02n.d323b925.mp4"},5392:function(t,e,i){"use strict";i("c63d")},"54ef":function(t,e,i){t.exports=i.p+"media/13d.7d6eb41b.mp4"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg"},[i("div",{staticClass:"main"},[i("Navigation",{attrs:{addCityActive:t.addCityActive,isDay:t.isDay,isNight:t.isNight},on:{"add-city":function(e){t.modalOpen=!t.modalOpen},"edit-city":function(e){t.edit=!t.edit}}}),t.modalOpen?i("Modal",{on:{"close-modal":function(e){t.modalOpen=!t.modalOpen}}}):t._e(),i("router-view",{attrs:{cities:t.cities,edit:t.edit,isDay:t.isDay,isNight:t.isNight},on:{"is-day":function(e){t.isDay=!t.isDay},"is-night":function(e){t.isNight=!t.isNight},resetDays:t.resetDays}})],1)])},r=[],c=i("1da1"),s=(i("96cf"),i("d3b7"),i("159b"),i("99af"),i("4de4"),i("b0c0"),i("bc3a")),o=i.n(s),d=i("4f60"),u=(i("1862"),i("256a"),{apiKey:"AIzaSyARlD1cYBjeuuDrA051qI28sVmpUJQuGSs",authDomain:"weatherapp-b3c48.firebaseapp.com",projectId:"weatherapp-b3c48",storageBucket:"weatherapp-b3c48.appspot.com",messagingSenderId:"863544097692",appId:"1:863544097692:web:6a972ebef53b97ff0b6659"}),l=d["a"].initializeApp(u),p=l.firestore(),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.addCityActive?i("header",{staticClass:"container add-city"},[i("nav",[i("span",[t._v("Add City")]),i("div",{staticClass:"right"},[i("i",{ref:"editCities",staticClass:"far fa-edit",on:{click:t.editCity}}),i("i",{staticClass:"fas fa-sync",on:{click:t.reloadApp}}),i("i",{staticClass:"fas fa-plus",on:{click:t.addCity}})])])]):t._e(),t.addCityActive?t._e():i("header",{staticClass:"container",class:{day:t.isDay,night:t.isNight}},[i("nav",[i("router-link",{staticClass:"router-link",attrs:{to:{name:"AddCity"}}},[i("i",{staticClass:"fas fa-times-circle"})]),i("span",[t._v(" "+t._s((new Date).toLocaleString())+" ")]),i("span",[t._v(" °C ")])],1)])])},h=[],m={name:"Navigation",props:["addCityActive","isDay","isNight"],methods:{addCity:function(){this.$emit("add-city")},reloadApp:function(){location.reload()},editCity:function(){this.$refs.editCities.classList.toggle("edit-active"),this.$emit("edit-city")}}},y=m,v=(i("6bb1"),i("2877")),g=Object(v["a"])(y,f,h,!1,null,"26d700fd",null),b=g.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal",on:{click:t.closeModal}},[i("div",{ref:"modalWrap",staticClass:"modal-wrap"},[i("label",{attrs:{for:"city-name"}},[t._v("Enter Location:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],attrs:{type:"text",name:"city-name",placeholder:"Warszawa/Warsaw"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}}),i("button",{on:{click:t.addCity}},[t._v("Add")])])])},w=[],_={name:"modal",data:function(){return{city:null,apiKey:"ffce0cb1622ed4c6cc1ba7238e3dd846"}},methods:{closeModal:function(t){t.target===this.$refs.modal&&this.$emit("close-modal")},addCity:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.city.length){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,o.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.city,"&units=imperial&appid=").concat(t.apiKey,"&lang=pl"));case 4:return i=e.sent,e.next=7,i.data;case 7:n=e.sent,p.collection("cities").doc().set({city:t.city,currentWeather:n}).then((function(){t.$emit("close-modal")}));case 9:case"end":return e.stop()}}),e)})))()}}},x=_,W=(i("db0b"),Object(v["a"])(x,C,w,!1,null,"b50dd64e",null)),O=W.exports,k={name:"App",components:{Navigation:b,Modal:O},data:function(){return{isDay:null,isNight:null,apiKey:"ffce0cb1622ed4c6cc1ba7238e3dd846",cities:[],modalOpen:!1,edit:!1,addCityActive:null}},methods:{getCityWeather:function(){var t=this,e=p.collection("cities");e.onSnapshot((function(i){i.docChanges().forEach(function(){var i=Object(c["a"])(regeneratorRuntime.mark((function i(n){var a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("added"!==n.type||n.doc.Nd){i.next=14;break}return i.prev=1,i.next=4,o.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(n.doc.data().city,"&units=imperial&appid=").concat(t.apiKey,"&lang=pl"));case 4:a=i.sent,r=a.data,e.doc(n.doc.id).update({currentWeather:r}).then((function(){t.cities.push(n.doc.data())})),i.next=12;break;case 9:i.prev=9,i.t0=i["catch"](1),console.log(i.t0);case 12:i.next=15;break;case 14:"added"===n.type&&n.doc.Nd?t.cities.push(n.doc.data()):"removed"===n.type&&(t.cities=t.cities.filter((function(t){return t.city!==n.doc.data().city})));case 15:case"end":return i.stop()}}),i,null,[[1,9]])})));return function(t){return i.apply(this,arguments)}}())}))},resetDays:function(){this.isDay=!1,this.isNight=!1},checkRoute:function(){"AddCity"===this.$route.name?this.addCityActive=!0:this.addCityActive=!1}},watch:{$route:function(){this.checkRoute()}},mounted:function(){this.checkRoute(),this.getCityWeather()}},D=k,$=(i("5c0b"),Object(v["a"])(D,a,r,!1,null,null,null)),j=$.exports,A=i("8c4f"),N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grid"},t._l(t.cities,(function(e,n){return i("div",{key:n,staticClass:"city-link"},[i("City",{attrs:{city:e,edit:t.edit}})],1)})),0)},T=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"city",on:{click:t.goToWeather}},[t.edit?n("i",{ref:"edit",staticClass:"far fa-trash-alt edit",on:{click:t.removeCity}}):t._e(),n("span",{staticClass:"city-name"},[t._v(t._s(t.city.city))]),n("div",{staticClass:"weather"},[n("span",[t._v(t._s(Math.round((this.city.currentWeather.main.temp-32)/1.8))+"°")]),n("img",{attrs:{src:"http://openweathermap.org/img/wn/"+t.city.currentWeather.weather[0].icon+"@2x.png",alt:""}})]),n("div",{staticClass:"video"},[n("video",{attrs:{autoplay:"",muted:"",loop:"",src:i("f3b4")("./"+t.city.currentWeather.weather[0].icon+".mp4")},domProps:{muted:!0}}),n("div",{staticClass:"bg-overlay"})])])},M=[],S={name:"city",props:["city","edit"],created:function(){console.log(this.city)},data:function(){return{id:null}},methods:{removeCity:function(){var t=this;p.collection("cities").where("city","==","".concat(this.city.city)).get().then((function(e){e.forEach((function(e){t.id=e.id}))})).then((function(){p.collection("cities").doc(t.id).delete()}))},goToWeather:function(t){t.target===this.$refs.edit||this.$router.push({name:"Weather",params:{city:this.city.city}})}}},H=S,P=(i("07db"),Object(v["a"])(H,E,M,!1,null,"595e5f7b",null)),I=P.exports,R={name:"AddCity",props:["cities","edit"],created:function(){},components:{City:I}},K=R,L=(i("f03b"),Object(v["a"])(K,N,T,!1,null,"c372f4fe",null)),q=L.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[t.loading?i("div",{staticClass:"loading"},[i("span")]):t._e(),t.loading?t._e():i("div",{staticClass:"weather",class:{day:t.isDay,night:t.isNight}},[i("div",{staticClass:"weather-wrap"},[i("CurrentWeather",{staticClass:"test",attrs:{currentWeather:t.currentWeather,isDay:t.isDay,isNight:t.isNight}}),i("HourlyWeather",{attrs:{forecast:t.forecast}})],1)])])},B=[],J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hourly-weather"},[n("div",{staticClass:"container",on:{scroll:function(e){t.showScrollIcon=!1}}},[t._l(t.filteredList,(function(t,e){return n("div",{key:e,staticClass:"hourly-temp"},[n("HourlyTemp",{attrs:{time:t}})],1)})),t.showScrollIcon?n("img",{staticClass:"scroll",attrs:{src:i("d026"),alt:""}}):t._e()],2)])},U=[],F=(i("fb6a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hour"},[i("span",[t._v(t._s(t.newTime))]),i("span",[i("img",{attrs:{src:"http://openweathermap.org/img/wn/"+t.time.weather[0].icon+"@2x.png",alt:""}})]),i("span",[t._v(" "+t._s(Math.round((t.time.temp-32)/1.8))+"° ")])])}),G=[],Q={name:"HourlyTemp",props:["time"],computed:{newTime:function(){var t=new Date(1e3*this.time.dt).toLocaleTimeString();return t.substring(0,t.length-3)}}},V=Q,Y=(i("30d5"),Object(v["a"])(V,F,G,!1,null,"23c65f34",null)),X=Y.exports,Z={name:"HourlyWeather",props:["forecast"],data:function(){return{showScrollIcon:!0}},components:{HourlyTemp:X},created:function(){console.log(this.forecast)},computed:{filteredList:function(){return this.forecast.hourly.slice(0,33)}}},tt=Z,et=(i("e0c1"),Object(v["a"])(tt,J,U,!1,null,"2e662ecc",null)),it=et.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"current-weather"},[i("div",{staticClass:"container"},[i("div",{staticClass:"weather-info"},[i("span",{staticClass:"city"},[t._v(t._s(this.currentWeather.name))]),i("span",{staticClass:"current-temparature"},[t._v(t._s(Math.round((t.currentWeather.main.temp-32)/1.8))+"°")]),i("div",{staticClass:"high-low-temperatures"},[i("div",{staticClass:"high"},[i("i",{staticClass:"fas fa-chevron-up"}),i("span",[t._v(t._s(Math.round((t.currentWeather.main.temp_max-32)/1.8))+"°")])]),i("div",{staticClass:"low"},[i("i",{staticClass:"fas fa-chevron-down"}),i("span",[t._v(t._s(Math.round((t.currentWeather.main.temp_min-32)/1.8))+"°")])])]),i("span",{staticClass:"condition"},[t._v(" "+t._s(t.currentWeather.weather[0].description)+" ")]),i("span",{staticClass:"feels-like"},[t._v(" Feels like "+t._s(Math.round((t.currentWeather.main.feels_like-32)/1.8))+"° ")])]),i("div",{staticClass:"imgBox"},[i("img",{attrs:{src:"http://openweathermap.org/img/wn/"+t.currentWeather.weather[0].icon+"@2x.png",alt:""}})])])])},at=[],rt={name:"CurrentWeather",props:["isDay","isNight","currentWeather"]},ct=rt,st=(i("00c3"),Object(v["a"])(ct,nt,at,!1,null,"66dc7134",null)),ot=st.exports,dt={name:"Weather",props:["isDay","isNight"],components:{HourlyWeather:it,CurrentWeather:ot},data:function(){return{forecast:null,currentWeather:null,currentTime:null,loading:!0,apiKey:"ffce0cb1622ed4c6cc1ba7238e3dd846"}},methods:{getWeather:function(){var t=this;p.collection("cities").where("city","==","".concat(this.$route.params.city)).get().then((function(e){e.forEach((function(e){t.currentWeather=e.data().currentWeather,o.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t.currentWeather.coord.lat,"&lon=").concat(t.currentWeather.coord.lon,"&units=imperial&exclude=current,minutely&appid=").concat(t.apiKey)).then((function(e){t.forecast=e.data})).then((function(){t.loading=!1,t.getCurrentTime()}))}))}))},getCurrentTime:function(){var t=new Date;this.currentTime=t.getHours();var e=new Date(1e3*this.currentWeather.sys.sunrise).getHours(),i=new Date(1e3*this.currentWeather.sys.sunset).getHours();this.currentTime>e&&this.currentTime<i?this.$emit("is-day"):this.$emit("is-night")}},mounted:function(){this.getWeather()},beforeDestroy:function(){this.$emit("resetDays")}},ut=dt,lt=(i("5392"),Object(v["a"])(ut,z,B,!1,null,"4569dd8f",null)),pt=lt.exports;n["a"].use(A["a"]);var ft=[{path:"/",name:"AddCity",component:q},{path:"/weather/:city",name:"Weather",component:pt}],ht=new A["a"]({mode:"history",base:"/WeatherApp/",routes:ft}),mt=ht;n["a"].config.productionTip=!1,new n["a"]({router:mt,render:function(t){return t(j)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},"5dae":function(t,e,i){t.exports=i.p+"media/02d.fbf57056.mp4"},"65c4":function(t,e,i){t.exports=i.p+"media/10d.dd9c4f11.mp4"},"6bb1":function(t,e,i){"use strict";i("0c6f")},"6c7d":function(t,e,i){},"6e15":function(t,e,i){t.exports=i.p+"media/03d.fbf57056.mp4"},"72ff":function(t,e,i){t.exports=i.p+"media/50n.dd9c4f11.mp4"},"88e5":function(t,e,i){t.exports=i.p+"media/50d.dd9c4f11.mp4"},"8ed5":function(t,e,i){},"9c0c":function(t,e,i){},a447:function(t,e,i){t.exports=i.p+"media/13n.33a65a7f.mp4"},b750:function(t,e,i){t.exports=i.p+"media/01d.0da1fbd1.mp4"},c266:function(t,e,i){t.exports=i.p+"media/01n.68cb9d4e.mp4"},c63d:function(t,e,i){},c938:function(t,e,i){t.exports=i.p+"media/04n.d323b925.mp4"},cc21:function(t,e,i){t.exports=i.p+"media/09d.dd9c4f11.mp4"},d026:function(t,e,i){t.exports=i.p+"img/scroll.8581007d.png"},db0b:function(t,e,i){"use strict";i("fa39")},e0c1:function(t,e,i){"use strict";i("10fc")},f03b:function(t,e,i){"use strict";i("6c7d")},f3b4:function(t,e,i){var n={"./01d.mp4":"b750","./01n.mp4":"c266","./02d.mp4":"5dae","./02n.mp4":"4c58","./03d.mp4":"6e15","./03n.mp4":"0420","./04d.mp4":"0da8","./04n.mp4":"c938","./09d.mp4":"cc21","./09n.mp4":"0698","./10d.mp4":"65c4","./10n.mp4":"0cff","./11d.mp4":"417e","./11n.mp4":"f697","./13d.mp4":"54ef","./13n.mp4":"a447","./50d.mp4":"88e5","./50n.mp4":"72ff"};function a(t){var e=r(t);return i(e)}function r(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="f3b4"},f697:function(t,e,i){t.exports=i.p+"media/11n.dd9c4f11.mp4"},fa39:function(t,e,i){}});
//# sourceMappingURL=app.cef51c72.js.map